<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>tapi_iiwa_control: Tapi::iiwaControl Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTapi.html">Tapi</a></li><li class="navelem"><a class="el" href="classTapi_1_1iiwaControl.html">iiwaControl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTapi_1_1iiwaControl-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Tapi::iiwaControl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Connect to tapi_iiwa, generate absolute position messages with a relative control device (e.g. Spacenav) and control a Kuka iiwa with it.  
 <a href="classTapi_1_1iiwaControl.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab216cb0dea0f5ee03f6f2795d5e7e9ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ab216cb0dea0f5ee03f6f2795d5e7e9ae">iiwaControl</a> (ros::NodeHandle *<a class="el" href="classTapi_1_1iiwaControl.html#a96c013d0ca96bf7918293ed4e8aea98f">nh</a>)</td></tr>
<tr class="memdesc:ab216cb0dea0f5ee03f6f2795d5e7e9ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an <a class="el" href="classTapi_1_1iiwaControl.html" title="Connect to tapi_iiwa, generate absolute position messages with a relative control device (e...">iiwaControl</a> object to control Kuka iiwa.  <a href="#ab216cb0dea0f5ee03f6f2795d5e7e9ae">More...</a><br /></td></tr>
<tr class="separator:ab216cb0dea0f5ee03f6f2795d5e7e9ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd2db9c164d20630ac2b7a806c2d695f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#abd2db9c164d20630ac2b7a806c2d695f">~iiwaControl</a> ()</td></tr>
<tr class="memdesc:abd2db9c164d20630ac2b7a806c2d695f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop publisher/subscriber/services and free memory.  <a href="#abd2db9c164d20630ac2b7a806c2d695f">More...</a><br /></td></tr>
<tr class="separator:abd2db9c164d20630ac2b7a806c2d695f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad905a4f9605017d8e6bce360efec3215"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ad905a4f9605017d8e6bce360efec3215">activate</a> ()</td></tr>
<tr class="memdesc:ad905a4f9605017d8e6bce360efec3215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do robot movement.  <a href="#ad905a4f9605017d8e6bce360efec3215">More...</a><br /></td></tr>
<tr class="separator:ad905a4f9605017d8e6bce360efec3215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879961c1e06cbbd42b589624919cac20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a879961c1e06cbbd42b589624919cac20">gotAngularX</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a879961c1e06cbbd42b589624919cac20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new rotation of the x-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[0].  <a href="#a879961c1e06cbbd42b589624919cac20">More...</a><br /></td></tr>
<tr class="separator:a879961c1e06cbbd42b589624919cac20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a193f5984479939f0f609f2631821910d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a193f5984479939f0f609f2631821910d">gotAngularY</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a193f5984479939f0f609f2631821910d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new rotation of the y-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[1].  <a href="#a193f5984479939f0f609f2631821910d">More...</a><br /></td></tr>
<tr class="separator:a193f5984479939f0f609f2631821910d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f304cd0bde4b066a385c6a09f38d533"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a6f304cd0bde4b066a385c6a09f38d533">gotAngularZ</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a6f304cd0bde4b066a385c6a09f38d533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new rotation of the z-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[2].  <a href="#a6f304cd0bde4b066a385c6a09f38d533">More...</a><br /></td></tr>
<tr class="separator:a6f304cd0bde4b066a385c6a09f38d533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2747c6014fd0bc7fd705bfb61469cb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0">gotCurrentPose</a> (const geometry_msgs::PoseStamped::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:aa2747c6014fd0bc7fd705bfb61469cb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new value of the current robot position has been got.  <a href="#aa2747c6014fd0bc7fd705bfb61469cb0">More...</a><br /></td></tr>
<tr class="separator:aa2747c6014fd0bc7fd705bfb61469cb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab74691acd0bea34dbeda61952a95c530"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ab74691acd0bea34dbeda61952a95c530">gotJoy</a> (const sensor_msgs::Joy::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ab74691acd0bea34dbeda61952a95c530"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new Joy message has arrived with values for all axes. Multiplies its value with its corresponding coefficients and saves it to the angular and linear arrays.  <a href="#ab74691acd0bea34dbeda61952a95c530">More...</a><br /></td></tr>
<tr class="separator:ab74691acd0bea34dbeda61952a95c530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f05a39f22ff9875a0390ae8617a85af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a8f05a39f22ff9875a0390ae8617a85af">gotLinearX</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a8f05a39f22ff9875a0390ae8617a85af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new linear movement of the x-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[0].  <a href="#a8f05a39f22ff9875a0390ae8617a85af">More...</a><br /></td></tr>
<tr class="separator:a8f05a39f22ff9875a0390ae8617a85af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729b99c684aedab27529422cee5965c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a729b99c684aedab27529422cee5965c8">gotLinearY</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:a729b99c684aedab27529422cee5965c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new linear movement of the y-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[1].  <a href="#a729b99c684aedab27529422cee5965c8">More...</a><br /></td></tr>
<tr class="separator:a729b99c684aedab27529422cee5965c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5e3bbd2ff9f6c6e9363b66f8f12b687"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ab5e3bbd2ff9f6c6e9363b66f8f12b687">gotLinearZ</a> (const std_msgs::Float64::ConstPtr &amp;msg)</td></tr>
<tr class="memdesc:ab5e3bbd2ff9f6c6e9363b66f8f12b687"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by a ros callback when a new linear movement of the z-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[2].  <a href="#ab5e3bbd2ff9f6c6e9363b66f8f12b687">More...</a><br /></td></tr>
<tr class="separator:ab5e3bbd2ff9f6c6e9363b66f8f12b687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c59bbc6de3e1dc9828a4fe4d2b715f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8">sendData</a> ()</td></tr>
<tr class="memdesc:a0c59bbc6de3e1dc9828a4fe4d2b715f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called). Runs in its own thread every 50 ms (20 Hz) while <code>ros::ok()</code> is <code>true</code>.  <a href="#a0c59bbc6de3e1dc9828a4fe4d2b715f8">More...</a><br /></td></tr>
<tr class="separator:a0c59bbc6de3e1dc9828a4fe4d2b715f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a59b9b2f7ad943a8c7b32d3cb28e6a2c0"><td class="memItemLeft" align="right" valign="top">std::thread *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a59b9b2f7ad943a8c7b32d3cb28e6a2c0">activateThread</a></td></tr>
<tr class="memdesc:a59b9b2f7ad943a8c7b32d3cb28e6a2c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs the <code>activate</code> function.  <a href="#a59b9b2f7ad943a8c7b32d3cb28e6a2c0">More...</a><br /></td></tr>
<tr class="separator:a59b9b2f7ad943a8c7b32d3cb28e6a2c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41293925384e8e71c80479f6a55f8e01"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a41293925384e8e71c80479f6a55f8e01">angular</a> [3]</td></tr>
<tr class="memdesc:a41293925384e8e71c80479f6a55f8e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the relative control values for rotations.  <a href="#a41293925384e8e71c80479f6a55f8e01">More...</a><br /></td></tr>
<tr class="separator:a41293925384e8e71c80479f6a55f8e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abea9c637fc0bc15357a21d6f3e7665a5"><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#abea9c637fc0bc15357a21d6f3e7665a5">coefficients</a> [6]</td></tr>
<tr class="memdesc:abea9c637fc0bc15357a21d6f3e7665a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores pointers to the coefficients, so angular/linear values can be mulitplied with it (except when got by <code>gotJoy</code>)  <a href="#abea9c637fc0bc15357a21d6f3e7665a5">More...</a><br /></td></tr>
<tr class="separator:abea9c637fc0bc15357a21d6f3e7665a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e35bb5d8c0762c68d1751602118daff"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a5e35bb5d8c0762c68d1751602118daff">controlPosition</a> [3]</td></tr>
<tr class="memdesc:a5e35bb5d8c0762c68d1751602118daff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal position of the robot.  <a href="#a5e35bb5d8c0762c68d1751602118daff">More...</a><br /></td></tr>
<tr class="separator:a5e35bb5d8c0762c68d1751602118daff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef94af6878449c757dd7dcb1d0ad072"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#aaef94af6878449c757dd7dcb1d0ad072">controlRotEuler</a> [3]</td></tr>
<tr class="memdesc:aaef94af6878449c757dd7dcb1d0ad072"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal rotation (euler angles in radian) of the robot.  <a href="#aaef94af6878449c757dd7dcb1d0ad072">More...</a><br /></td></tr>
<tr class="separator:aaef94af6878449c757dd7dcb1d0ad072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d">currentPosition</a> [3]</td></tr>
<tr class="memdesc:ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current position of the robot.  <a href="#ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d">More...</a><br /></td></tr>
<tr class="separator:ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27fef80e22950e0ae45fb332e3326ede"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a27fef80e22950e0ae45fb332e3326ede">currentRotEuler</a> [3]</td></tr>
<tr class="memdesc:a27fef80e22950e0ae45fb332e3326ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current rotation (euler angles in radian) of the robot.  <a href="#a27fef80e22950e0ae45fb332e3326ede">More...</a><br /></td></tr>
<tr class="separator:a27fef80e22950e0ae45fb332e3326ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad28c9b759d8c71d8efbe68dd6affebcb"><td class="memItemLeft" align="right" valign="top">tf::Quaternion&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ad28c9b759d8c71d8efbe68dd6affebcb">currentRotQuat</a></td></tr>
<tr class="memdesc:ad28c9b759d8c71d8efbe68dd6affebcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current rotation of the robot (quaternion)  <a href="#ad28c9b759d8c71d8efbe68dd6affebcb">More...</a><br /></td></tr>
<tr class="separator:ad28c9b759d8c71d8efbe68dd6affebcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969433804b0ee6f5a8fb8f2b8b1fd48a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a969433804b0ee6f5a8fb8f2b8b1fd48a">firstPose</a></td></tr>
<tr class="memdesc:a969433804b0ee6f5a8fb8f2b8b1fd48a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the first absoulte position of the robot, so the goal positions can be calculated with the relative control data.  <a href="#a969433804b0ee6f5a8fb8f2b8b1fd48a">More...</a><br /></td></tr>
<tr class="separator:a969433804b0ee6f5a8fb8f2b8b1fd48a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e5e4b1f8a70d53bf43163f307235cc"><td class="memItemLeft" align="right" valign="top">std_msgs::Header&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ad4e5e4b1f8a70d53bf43163f307235cc">header</a></td></tr>
<tr class="memdesc:ad4e5e4b1f8a70d53bf43163f307235cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header for the goal position messages.  <a href="#ad4e5e4b1f8a70d53bf43163f307235cc">More...</a><br /></td></tr>
<tr class="separator:ad4e5e4b1f8a70d53bf43163f307235cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a74285aaa9ab3aece575c7150e55dbf"><td class="memItemLeft" align="right" valign="top">ros::ServiceClient **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a8a74285aaa9ab3aece575c7150e55dbf">iiwaModeClient</a></td></tr>
<tr class="memdesc:a8a74285aaa9ab3aece575c7150e55dbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Doublepointer to the ServiceClient to call the service on tapi_iiwa.  <a href="#a8a74285aaa9ab3aece575c7150e55dbf">More...</a><br /></td></tr>
<tr class="separator:a8a74285aaa9ab3aece575c7150e55dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f90eb65952e26d8ce26170c830af67a"><td class="memItemLeft" align="right" valign="top">ros::Publisher *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a4f90eb65952e26d8ce26170c830af67a">iiwaPub</a></td></tr>
<tr class="memdesc:a4f90eb65952e26d8ce26170c830af67a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a publisher to publish the geometry messages for the iiwa (to tapi_iiwa)  <a href="#a4f90eb65952e26d8ce26170c830af67a">More...</a><br /></td></tr>
<tr class="separator:a4f90eb65952e26d8ce26170c830af67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087e62d5b770bf666583f671ccb3d141"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a087e62d5b770bf666583f671ccb3d141">linear</a> [3]</td></tr>
<tr class="memdesc:a087e62d5b770bf666583f671ccb3d141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the relative control values for linear movements.  <a href="#a087e62d5b770bf666583f671ccb3d141">More...</a><br /></td></tr>
<tr class="separator:a087e62d5b770bf666583f671ccb3d141"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c013d0ca96bf7918293ed4e8aea98f"><td class="memItemLeft" align="right" valign="top">ros::NodeHandle *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a96c013d0ca96bf7918293ed4e8aea98f">nh</a></td></tr>
<tr class="memdesc:a96c013d0ca96bf7918293ed4e8aea98f"><td class="mdescLeft">&#160;</td><td class="mdescRight">NodeHandle-pointer necessary to create subscribers, publishers and services.  <a href="#a96c013d0ca96bf7918293ed4e8aea98f">More...</a><br /></td></tr>
<tr class="separator:a96c013d0ca96bf7918293ed4e8aea98f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe173b28252ce69a4153253fbcb030b"><td class="memItemLeft" align="right" valign="top">ros::Publisher *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#adbe173b28252ce69a4153253fbcb030b">posePub</a> [6]</td></tr>
<tr class="memdesc:adbe173b28252ce69a4153253fbcb030b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to publishers to publish the current robot position.  <a href="#adbe173b28252ce69a4153253fbcb030b">More...</a><br /></td></tr>
<tr class="separator:adbe173b28252ce69a4153253fbcb030b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb6315a37f62397d956b9452afc79046"><td class="memItemLeft" align="right" valign="top">std::thread *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#afb6315a37f62397d956b9452afc79046">sendThread</a></td></tr>
<tr class="memdesc:afb6315a37f62397d956b9452afc79046"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thread to run <code>sendData</code> function.  <a href="#afb6315a37f62397d956b9452afc79046">More...</a><br /></td></tr>
<tr class="separator:afb6315a37f62397d956b9452afc79046"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbb53c47dfc7c96cf913cdd186103628"><td class="memItemLeft" align="right" valign="top">Tapi::ServiceClient *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#acbb53c47dfc7c96cf913cdd186103628">tclient</a></td></tr>
<tr class="memdesc:acbb53c47dfc7c96cf913cdd186103628"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>tapi_lib</code> based ServiceClient object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant ServiceClients  <a href="#acbb53c47dfc7c96cf913cdd186103628">More...</a><br /></td></tr>
<tr class="separator:acbb53c47dfc7c96cf913cdd186103628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4065a3300a58b95a4d4ee0015e95345"><td class="memItemLeft" align="right" valign="top">Tapi::Publisher *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#ab4065a3300a58b95a4d4ee0015e95345">tpub</a></td></tr>
<tr class="memdesc:ab4065a3300a58b95a4d4ee0015e95345"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>tapi_lib</code> based Publisher object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant Publishers  <a href="#ab4065a3300a58b95a4d4ee0015e95345">More...</a><br /></td></tr>
<tr class="separator:ab4065a3300a58b95a4d4ee0015e95345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a676d93dea8931639053e00812e05d4c0"><td class="memItemLeft" align="right" valign="top">Tapi::Subscriber *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1iiwaControl.html#a676d93dea8931639053e00812e05d4c0">tsub</a></td></tr>
<tr class="memdesc:a676d93dea8931639053e00812e05d4c0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><code>tapi_lib</code> based Subscriber object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant Subscribers  <a href="#a676d93dea8931639053e00812e05d4c0">More...</a><br /></td></tr>
<tr class="separator:a676d93dea8931639053e00812e05d4c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Connect to tapi_iiwa, generate absolute position messages with a relative control device (e.g. Spacenav) and control a Kuka iiwa with it. </p>
<p>It uses open loop control, because closed loop control has latency issues and needs a prediction of the actual current position </p><dl class="section author"><dt>Author</dt><dd>Tobias Holst </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0.1 </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00069">69</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab216cb0dea0f5ee03f6f2795d5e7e9ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::iiwaControl::iiwaControl </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle *&#160;</td>
          <td class="paramname"><em>nh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create an <a class="el" href="classTapi_1_1iiwaControl.html" title="Connect to tapi_iiwa, generate absolute position messages with a relative control device (e...">iiwaControl</a> object to control Kuka iiwa. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nh</td><td>Pointer to a <code>ros::NodeHandle</code> created outside of this class </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00055">55</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abd2db9c164d20630ac2b7a806c2d695f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::iiwaControl::~iiwaControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop publisher/subscriber/services and free memory. </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00094">94</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad905a4f9605017d8e6bce360efec3215"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do robot movement. </p>
<p>This function runs in a thread and calls a service at tapi_iiwa. It's a while loop which runs - when started - as long as <code>ros::ok()</code> is <code>true</code>. Calls the service every 50 ms (20 Hz) with the string <code>"MoveToPose;rob;"</code> which will tell tapi_iiwa to start the movement to the coordinates published on the "Goal Pose to Robot" feature/topic. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a59b9b2f7ad943a8c7b32d3cb28e6a2c0" title="Runs the activate function. ">Tapi::iiwaControl::activateThread</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00106">106</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a879961c1e06cbbd42b589624919cac20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotAngularX </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new rotation of the x-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[0]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of angular x is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a41293925384e8e71c80479f6a55f8e01" title="Stores the relative control values for rotations. ">Tapi::iiwaControl::angular</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00124">124</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a193f5984479939f0f609f2631821910d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotAngularY </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new rotation of the y-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[1]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of angular y is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a41293925384e8e71c80479f6a55f8e01" title="Stores the relative control values for rotations. ">Tapi::iiwaControl::angular</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00129">129</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6f304cd0bde4b066a385c6a09f38d533"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotAngularZ </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new rotation of the z-axis has been got. Multiplies its value with its corresponding coefficient and saves it to angular[2]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of angular z is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a41293925384e8e71c80479f6a55f8e01" title="Stores the relative control values for rotations. ">Tapi::iiwaControl::angular</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00134">134</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa2747c6014fd0bc7fd705bfb61469cb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotCurrentPose </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::PoseStamped::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new value of the current robot position has been got. </p>
<dl class="section warning"><dt>Warning</dt><dd>Because of latency issues this position may be a little bit behind the actual current position of the robot. This can be a big issue in closed loop control! </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the position of the robot is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d" title="Current position of the robot. ">Tapi::iiwaControl::currentPosition</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#ad28c9b759d8c71d8efbe68dd6affebcb" title="Current rotation of the robot (quaternion) ">Tapi::iiwaControl::currentRotQuat</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a27fef80e22950e0ae45fb332e3326ede" title="Current rotation (euler angles in radian) of the robot. ">Tapi::iiwaControl::currentRotEuler</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00139">139</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab74691acd0bea34dbeda61952a95c530"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotJoy </td>
          <td>(</td>
          <td class="paramtype">const sensor_msgs::Joy::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new Joy message has arrived with values for all axes. Multiplies its value with its corresponding coefficients and saves it to the angular and linear arrays. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of all axes (at least six) are stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a41293925384e8e71c80479f6a55f8e01" title="Stores the relative control values for rotations. ">Tapi::iiwaControl::angular</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a087e62d5b770bf666583f671ccb3d141" title="Stores the relative control values for linear movements. ">Tapi::iiwaControl::linear</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00186">186</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8f05a39f22ff9875a0390ae8617a85af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotLinearX </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new linear movement of the x-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[0]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of the linear x movement is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a087e62d5b770bf666583f671ccb3d141" title="Stores the relative control values for linear movements. ">Tapi::iiwaControl::linear</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00200">200</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a729b99c684aedab27529422cee5965c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotLinearY </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new linear movement of the y-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[1]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of the linear y movement is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a087e62d5b770bf666583f671ccb3d141" title="Stores the relative control values for linear movements. ">Tapi::iiwaControl::linear</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00205">205</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab5e3bbd2ff9f6c6e9363b66f8f12b687"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::gotLinearZ </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Float64::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by a ros callback when a new linear movement of the z-axis has been got. Multiplies its value with its corresponding coefficient and saves it to linear[2]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message waiting in the ros message queue where the value of the linear z movement is stored </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a087e62d5b770bf666583f671ccb3d141" title="Stores the relative control values for linear movements. ">Tapi::iiwaControl::linear</a> </dd>
<dd>
Tapi::iiwaControl::coefficient </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00210">210</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0c59bbc6de3e1dc9828a4fe4d2b715f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::iiwaControl::sendData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called). Runs in its own thread every 50 ms (20 Hz) while <code>ros::ok()</code> is <code>true</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#ad905a4f9605017d8e6bce360efec3215" title="Do robot movement. ">Tapi::iiwaControl::activate</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#afb6315a37f62397d956b9452afc79046" title="Thread to run sendData function. ">Tapi::iiwaControl::sendThread</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8cpp_source.html#l00215">215</a> of file <a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a59b9b2f7ad943a8c7b32d3cb28e6a2c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread* Tapi::iiwaControl::activateThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Runs the <code>activate</code> function. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#ad905a4f9605017d8e6bce360efec3215" title="Do robot movement. ">Tapi::iiwaControl::activate</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00189">189</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a41293925384e8e71c80479f6a55f8e01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::angular[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the relative control values for rotations. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a879961c1e06cbbd42b589624919cac20" title="Called by a ros callback when a new rotation of the x-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularX</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a193f5984479939f0f609f2631821910d" title="Called by a ros callback when a new rotation of the y-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularY</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a6f304cd0bde4b066a385c6a09f38d533" title="Called by a ros callback when a new rotation of the z-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularZ</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a8f05a39f22ff9875a0390ae8617a85af" title="Called by a ros callback when a new linear movement of the x-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearX</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a729b99c684aedab27529422cee5965c8" title="Called by a ros callback when a new linear movement of the y-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearY</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#ab5e3bbd2ff9f6c6e9363b66f8f12b687" title="Called by a ros callback when a new linear movement of the z-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearZ</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#ab74691acd0bea34dbeda61952a95c530" title="Called by a ros callback when a new Joy message has arrived with values for all axes. Multiplies its value with its corresponding coefficients and saves it to the angular and linear arrays. ">Tapi::iiwaControl::gotJoy</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00201">201</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abea9c637fc0bc15357a21d6f3e7665a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double* Tapi::iiwaControl::coefficients[6]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores pointers to the coefficients, so angular/linear values can be mulitplied with it (except when got by <code>gotJoy</code>) </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00207">207</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5e35bb5d8c0762c68d1751602118daff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::controlPosition[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Goal position of the robot. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00213">213</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaef94af6878449c757dd7dcb1d0ad072"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::controlRotEuler[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Goal rotation (euler angles in radian) of the robot. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00219">219</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae6b2bbaefe0ff4d8c96e70bcbf9d7f4d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::currentPosition[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current position of the robot. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0" title="Called by a ros callback when a new value of the current robot position has been got. ">Tapi::iiwaControl::gotCurrentPose</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00225">225</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a27fef80e22950e0ae45fb332e3326ede"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::currentRotEuler[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current rotation (euler angles in radian) of the robot. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0" title="Called by a ros callback when a new value of the current robot position has been got. ">Tapi::iiwaControl::gotCurrentPose</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00231">231</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad28c9b759d8c71d8efbe68dd6affebcb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf::Quaternion Tapi::iiwaControl::currentRotQuat</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current rotation of the robot (quaternion) </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0" title="Called by a ros callback when a new value of the current robot position has been got. ">Tapi::iiwaControl::gotCurrentPose</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00237">237</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a969433804b0ee6f5a8fb8f2b8b1fd48a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tapi::iiwaControl::firstPose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for the first absoulte position of the robot, so the goal positions can be calculated with the relative control data. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0" title="Called by a ros callback when a new value of the current robot position has been got. ">Tapi::iiwaControl::gotCurrentPose</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00244">244</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4e5e4b1f8a70d53bf43163f307235cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std_msgs::Header Tapi::iiwaControl::header</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Header for the goal position messages. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00250">250</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8a74285aaa9ab3aece575c7150e55dbf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceClient** Tapi::iiwaControl::iiwaModeClient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Doublepointer to the ServiceClient to call the service on tapi_iiwa. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#ad905a4f9605017d8e6bce360efec3215" title="Do robot movement. ">Tapi::iiwaControl::activate</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00256">256</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f90eb65952e26d8ce26170c830af67a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher* Tapi::iiwaControl::iiwaPub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a publisher to publish the geometry messages for the iiwa (to tapi_iiwa) </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00262">262</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a087e62d5b770bf666583f671ccb3d141"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Tapi::iiwaControl::linear[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores the relative control values for linear movements. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a879961c1e06cbbd42b589624919cac20" title="Called by a ros callback when a new rotation of the x-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularX</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a193f5984479939f0f609f2631821910d" title="Called by a ros callback when a new rotation of the y-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularY</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a6f304cd0bde4b066a385c6a09f38d533" title="Called by a ros callback when a new rotation of the z-axis has been got. Multiplies its value with it...">Tapi::iiwaControl::gotAngularZ</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a8f05a39f22ff9875a0390ae8617a85af" title="Called by a ros callback when a new linear movement of the x-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearX</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#a729b99c684aedab27529422cee5965c8" title="Called by a ros callback when a new linear movement of the y-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearY</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#ab5e3bbd2ff9f6c6e9363b66f8f12b687" title="Called by a ros callback when a new linear movement of the z-axis has been got. Multiplies its value ...">Tapi::iiwaControl::gotLinearZ</a> </dd>
<dd>
<a class="el" href="classTapi_1_1iiwaControl.html#ab74691acd0bea34dbeda61952a95c530" title="Called by a ros callback when a new Joy message has arrived with values for all axes. Multiplies its value with its corresponding coefficients and saves it to the angular and linear arrays. ">Tapi::iiwaControl::gotJoy</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00274">274</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a96c013d0ca96bf7918293ed4e8aea98f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::NodeHandle* Tapi::iiwaControl::nh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NodeHandle-pointer necessary to create subscribers, publishers and services. </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00277">277</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adbe173b28252ce69a4153253fbcb030b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher* Tapi::iiwaControl::posePub[6]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to publishers to publish the current robot position. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#aa2747c6014fd0bc7fd705bfb61469cb0" title="Called by a ros callback when a new value of the current robot position has been got. ">Tapi::iiwaControl::gotCurrentPose</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00283">283</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb6315a37f62397d956b9452afc79046"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::thread* Tapi::iiwaControl::sendThread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thread to run <code>sendData</code> function. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1iiwaControl.html#a0c59bbc6de3e1dc9828a4fe4d2b715f8" title="Send the goal position to tapi_iiwa (which sends it to the robot every time its service is called)...">Tapi::iiwaControl::sendData</a> </dd></dl>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00289">289</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acbb53c47dfc7c96cf913cdd186103628"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::ServiceClient* Tapi::iiwaControl::tclient</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>tapi_lib</code> based ServiceClient object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant ServiceClients </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00292">292</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab4065a3300a58b95a4d4ee0015e95345"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::Publisher* Tapi::iiwaControl::tpub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>tapi_lib</code> based Publisher object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant Publishers </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00295">295</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a676d93dea8931639053e00812e05d4c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::Subscriber* Tapi::iiwaControl::tsub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>tapi_lib</code> based Subscriber object to create <a class="el" href="namespaceTapi.html">Tapi</a> compliant Subscribers </p>

<p>Definition at line <a class="el" href="tapi__iiwa__control_8hpp_source.html#l00298">298</a> of file <a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="tapi__iiwa__control_8hpp_source.html">tapi_iiwa_control.hpp</a></li>
<li><a class="el" href="tapi__iiwa__control_8cpp_source.html">tapi_iiwa_control.cpp</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="https://github.com/tobby88/ros-tapi-iiwa-control">tapi_iiwa_control</a><br />
Author(s): Tobias Holst <tobby@tobby.eu></br />
<small>autogenerated on Wed Sep 21 2016 23:36:33</small>
</div>
</body>
</html>
